<!-- Modal Dimmed -->
<div class="modal_wrap" id="approvalListStatusModal">
    <div class="modal modal_dimmed M">
        <div class="modal_header">
            <h4>Approval List</h4>
        </div>
        <div class="modal_content">
            <dl class="form_list2">
                <div>
                    <dt>Status Update</dt>
                    <dd>
                        <select name="statusUpdate" id="statusUpdate" class="select" onchange="selectStatusUpdate()">
                            <option value="approved" id="statusUpdateApprove">Approve</option>
                            <option value="rejected" id="statusUpdateReject">Reject</option>
                        </select>
                    </dd>
                </div>
                <div id="rejectReasonField" style="display: none;">
                    <dt>Reason</dt>
                    <dd>
                        <input name="rejectReason" id="rejectReason" class="input" maxlength="50">
                    </dd>
                </div>
            </dl>
        </div>
        <div class="modal_footer wrap_btn2">
            <button type="button" class="btn_m btn_white" onclick="closeApprovalListStatus()">Cancel</button>
            <button type="button" class="btn_m" id="approvalListStatusModelSaveBtn">Save</button>
        </div>
    </div>
    <div class="dimmer" aria-hidden="true"></div>
</div>
<!-- // Modal Dimmed -->

<script th:inline="javascript">
    const statusUpdateElement = document.getElementById('statusUpdate');
    const rejectReasonFieldElement = document.getElementById('rejectReasonField');
    const rejectReasonElement = document.getElementById('rejectReason');
    const approvalListStatusModelSaveBtnElement = document.getElementById('approvalListStatusModelSaveBtn');

    function selectStatusUpdate() {
        switch(statusUpdateElement.value) {
            case 'approved':
                rejectReasonFieldElement.style.display = 'none';
                rejectReasonElement.value = '';
                break;
            case 'rejected':
                rejectReasonFieldElement.style.display = '';
                break;
            default:
                break;
        }
    }

    function initiailizeFields() {
        $("#statusUpdate").val("approved").trigger("change");
    }

    // function clickedSaveBtn() {
    //     // save함수 ㄱㄱ
    // }

    function closeApprovalListStatus() {
        initiailizeFields();
        ModalOpenClose("#approvalListStatusModal");
    }

    function openApprovalListStatus(saveFunction) {
        ModalOpen("#approvalListStatusModal");
        if (!!saveFunction) {
            approvalListStatusModelSaveBtnElement.onclick = saveFunction;
        }
    }
</script>